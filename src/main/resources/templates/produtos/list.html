<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="~{fragments/layout :: layout(~{::head},~{::main})}">
<head th:replace="~{fragments/head :: head(~{})}">
    <title>Lista de Produtos</title>

</head>
<body>
<main class="conteiner">
    <div class="container">
        <h3>Lista de Produtos</h3>

        <form th:action="@{/produtos/buscar}" method="post" class="d-flex" role="search">
            <input class="form-control me-2" th:name="nomebusca" type="search" placeholder="Search" aria-label="Search">
            <button class="btn btn-outline-success" type="submit">Search</button>
        </form>

        <table class="table" border="1" style="border-collapse: collapse">
            <thead>
            <tr>
                <th>Id</th>
                <th>Descrição</th>
                <th>Valor</th>
                <th colspan="2">Ações</th>
            </tr>
            </thead>
            <tr th:each="produto : ${produtos}">
                <td th:text="${produto.id}"> </td>
                <td th:text="${produto.descricao}"> </td>
                <td th:text="${produto.valor}"> </td>

                <td><a th:href="@{/produtos/edit/{id}(id=${produto.id})}">Editar</a></td>
                <td> <a onclick="return window.confirm('Tem certeza que deseja excluir este registro?')"
                        th:href="@{/produtos/remove/{id}(id=${produto.id})}">Excluir</a> </td>
            </tr>

        </table>
            <div class="div-button">
                <button><a href="/produtos/form" style="text-decoration: none">Adicionar Produto</a></button>
            </div>

        </div>
</main>
</body>
</html>
